<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subir Archivo</title>
    <link rel="icon" type="image/png"
        href="https://i.pinimg.com/originals/4c/bd/d3/4cbdd34a362dcfcab31453076ce26d44.png">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="css/estilos.css">
    
    <link rel="stylesheet" type="text/css" href="css/estiloTabla.css">
  
</head>

<body>
    
    <div class="container">
        <div class="menu">
            <div class="imgaen">
                <img src="https://seeklogo.com/images/M/marvel-comics-logo-31D9B4C7FB-seeklogo.com.png" alt="marvel">
            </div>
            <nav class="cabezado">
                <a href="index.html">Inicio</a>
                <a href="cartelera.html">Cartelera</a>
                <a href="promocion.html">Promoción</a>
                <a href="about.html">¿Quienes somos?</a>
                <a href="listado.html">Listado</a>
                <a href="cargar.html">Subir Archivos</a>
                <a href="login.html" class="cabezado_elemento_rigth">Login</a>
            </nav>            
        </div> 
        <div class="datos1">
        <fieldset><legend>Subir Archivo</legend>
            <br><br>
            <form id="uploadForm" enctype="multipart/form-data">
            <div>
                <label for="aqui">Aqui Para subir:</label>
                <input type="file" id="fileInput" name="Archivo">
            </div><br>
            <div>
                <label for="Tipo_Archivo">Tipo de Archivo:</label>
                <input type="text" id="TipoArchivoInput" name="Tipo_Archivo" placeholder="Tipo de archivo">
            </div><br>  
            <button type="submit" class="subir">Subir Archivo</button>
        </form>
        </fieldset>
        <br>
        <p id="status"></p>
    </div>
    <script>
        document.getElementById('uploadForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Evitar la recarga de la página

            const fileInput = document.getElementById('fileInput');
            const tipoArchivoInput = document.getElementById('TipoArchivoInput');

            const formData = new FormData();
            formData.append('Archivo', fileInput.files[0]);
            formData.append('Tipo_Archivo', tipoArchivoInput.value);

            fetch('http://localhost:3000/upload', {
                method: 'POST',
                body: formData
            })
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    }
                    throw new Error('Error al subir el archivo.');
                })
                .then(data => {
                    document.getElementById('status').innerText = 'Archivo subido correctamente.';
                    console.log('Archivo subido:', data);
                })
                .catch(error => {
                    console.error('Error al subir el archivo:', error);
                    document.getElementById('status').innerText = 'Error al subir el archivo.';
                });
        });
    </script>
    <div class="rightColumn">
        <div class="card cardRight">
            <img src="https://i.pinimg.com/736x/ac/64/37/ac64379c52b7998e12a47d0ea8e3cf79.jpg"  alt="">
        </div>
</div>
<footer>
    <div class="frase">
        <h1>"Si estás interesado en lo que haces, ¡eso te hace seguir continuando!".</h1>
        <h2>Stan Lee</h2>
    </div>
    <div class="redes">
        <a href="https://www.facebook.com/"><img src="https://cdn-icons-png.flaticon.com/512/1312/1312139.png"/></a>
        <a href="https://www.youtube.com/"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670209.png"/></a>
        <a href="https://www.twitter.com/"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670211.png"/></a>
        <a href="https://www.instagram.com/"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670125.png"/></a>
        </div>
        <div id="Derechos">
            <h4>&copy;Arturo Collins-201910020173 & Juliany Amador - 202010060410</h4>    
        </div>   
    </footer>
</div>
</body>
</html>
</html>